<UserControl x:Class="MultiBoardViewer.Controls.StartPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MultiBoardViewer.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800"
             AllowDrop="True" Drop="UserControl_Drop" DragOver="UserControl_DragOver" DragLeave="UserControl_DragLeave">
    <Grid Background="#FAFAFA">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- LEFT COLUMN -->
        <Border Grid.Column="0" 
                BorderBrush="#DCDCDC" 
                BorderThickness="0,0,1,0" 
                Padding="20"
                Background="#FAFAFA"
                AllowDrop="True" DragEnter="BlockDrag" DragOver="BlockDrag" Drop="BlockDrop">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/> <!-- Search -->
                    <RowDefinition Height="*"/>    <!-- Recent Files / Search Results -->
                    <RowDefinition Height="Auto"/> <!-- About -->
                </Grid.RowDefinitions>

                <!-- Search Section -->
                <StackPanel Grid.Row="0" Margin="0,0,0,15">
                    <TextBlock Text="ðŸ” Search files" FontSize="16" FontWeight="SemiBold" Foreground="#323232" Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <Grid Grid.Column="0">
                            <TextBox x:Name="SearchBox" FontSize="13" Padding="8,6,28,6" VerticalContentAlignment="Center" TextChanged="SearchBox_TextChanged"/>
                            <TextBlock x:Name="SearchPlaceholder" Text="Type to search..." FontSize="13" Foreground="#A0A0A0" 
                                       IsHitTestVisible="False" Padding="10,7,0,0" Visibility="Visible"/>
                            <Button x:Name="ClearSearchButton" Content="âœ•" FontSize="10" Width="18" Height="18" Padding="0" 
                                    Background="Transparent" BorderThickness="0" Foreground="#969696"
                                    HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0"
                                    Visibility="Collapsed" Click="ClearSearchButton_Click">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Foreground" Value="#FF5050"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </Grid>
                        
                        <Button x:Name="FolderButton" Grid.Column="1" Content="ðŸ“" FontSize="14" Width="36" Margin="5,0,0,0" 
                                Click="FolderButton_Click" ToolTip="Select search folder"/>
                    </Grid>
                </StackPanel>

                <!-- Results / Recent Files -->
                <Grid Grid.Row="1" VerticalAlignment="Top">
                    <!-- Recent Files -->
                    <StackPanel x:Name="RecentFilesPanel">
                        <TextBlock Text="ðŸ“‹ Recent files" FontSize="16" FontWeight="SemiBold" Foreground="#323232" Margin="0,0,0,10"/>
                        <StackPanel x:Name="RecentFilesList"/>
                    </StackPanel>

                    <!-- Search Results -->
                    <ScrollViewer x:Name="SearchResultsScroll" Visibility="Collapsed" VerticalScrollBarVisibility="Auto" MaxHeight="300" Margin="0,10,0,0">
                        <StackPanel x:Name="SearchResultsPanel"/>
                    </ScrollViewer>
                </Grid>

                <!-- About Section -->
                <StackPanel Grid.Row="2" VerticalAlignment="Bottom" Margin="0,20,0,0">
                    <Button x:Name="AboutButton" Content="â„¹ï¸ About" FontSize="12" Padding="15,8,15,8" 
                            Background="#F0F0F0" BorderBrush="#B4B4B4" BorderThickness="1" 
                            HorizontalAlignment="Left" Click="AboutButton_Click"/>
                    
                    <Border x:Name="AboutContent" Background="#F5F5F5" BorderBrush="#C8C8C8" BorderThickness="1" 
                            CornerRadius="5" Padding="15" Margin="0,10,0,0" Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="Multi BoardViewer" FontSize="16" FontWeight="Bold" Foreground="#0064B4" Margin="0,0,0,8"/>
                            <TextBlock Text="Version 1.1.0" FontSize="12" Foreground="#646464" Margin="0,0,0,10"/>
                            <TextBlock Text="A versatile viewer for boardviews and schematics" FontSize="12" Foreground="#3C3C3C" TextWrapping="Wrap" Margin="0,0,0,10"/>
                            
                            <TextBlock FontSize="11" Foreground="#646464" Margin="0,0,0,3">
                                <Run Text="Created by "/>
                                <Hyperlink NavigateUri="https://mhqb365.com" RequestNavigate="Hyperlink_RequestNavigate">
                                    mhqb365.com
                                </Hyperlink>
                            </TextBlock>
                            
                            <TextBlock FontSize="11" Foreground="#646464">
                                <Run Text="Open source "/>
                                <Hyperlink NavigateUri="https://github.com/mhqb365/Multi-BoardViewer" RequestNavigate="Hyperlink_RequestNavigate">
                                    github.com/mhqb365/Multi-BoardViewer
                                </Hyperlink>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>

        <!-- RIGHT COLUMN -->
        <Border x:Name="DropZone" Grid.Column="1" Background="#FAFAFA" Padding="20">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸ“‚" FontSize="64" HorizontalAlignment="Center"/>
                <TextBlock Text="Drop file here" FontSize="18" Foreground="#646464" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                <TextBlock Text="or" FontSize="12" Foreground="#969696" HorizontalAlignment="Center" Margin="0,10,0,10"/>
                <Button x:Name="OpenFileButton" Content="âž• Open file" FontSize="14" Padding="20,10,20,10" 
                        Background="#0078D4" Foreground="White" BorderThickness="0" HorizontalAlignment="Center"
                        Click="OpenFileButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
